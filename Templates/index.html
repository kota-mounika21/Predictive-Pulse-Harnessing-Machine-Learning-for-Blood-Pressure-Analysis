<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Hypertension Detection</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
</head>
<body>

<header class="header">
    <h1>Hypertension Detection</h1>
    <p>AI-Based Blood Pressure Risk Assessment</p>
</header>

<div class="container">

    <!-- ================= FORM (SHOWN BEFORE PREDICTION) ================= -->
    {% if not prediction_text %}
    <div class="card">
        <form method="POST" action="/predict">

            <label>Gender</label>
            <select name="Gender" required>
                <option value="">Select Gender</option>
                <option>Male</option>
                <option>Female</option>
            </select>

            <label>Age Group</label>
            <select name="Age" required>
                <option value="">Select Age Range</option>
                <option>18-34</option>
                <option>35-50</option>
                <option>51-64</option>
                <option>65+</option>
            </select>

            <label>Family History of Hypertension</label>
            <select name="History" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Currently a Patient?</label>
            <select name="Patient" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Taking Medication?</label>
            <select name="TakeMedication" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Symptom Severity</label>
            <select name="Severity" required>
                <option value="">Select Severity</option>
                <option>Mild</option>
                <option>Moderate</option>
                <option>Severe</option>
            </select>

            <label>Shortness of Breath</label>
            <select name="BreathShortness" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Visual Changes</label>
            <select name="VisualChanges" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Nose Bleeding</label>
            <select name="NoseBleeding" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <label>Time Since Diagnosis</label>
            <select name="Whendiagnoused" required>
                <option value="">Select Duration</option>
                <option>&lt;1 Year</option>
                <option>1-5 Years</option>
                <option>&gt;5 Years</option>
            </select>

            <label>Systolic BP</label>
            <select name="Systolic" required>
                <option value="">Select Range</option>
                <option>100 - 110</option>
                <option>111 - 120</option>
                <option>121 - 130</option>
                <option>130+</option>
            </select>

            <label>Diastolic BP</label>
            <select name="Diastolic" required>
                <option value="">Select Range</option>
                <option>70 - 80</option>
                <option>81 - 90</option>
                <option>91 - 100</option>
                <option>100+</option>
            </select>

            <label>Controlled Diet</label>
            <select name="ControlledDiet" required>
                <option value="">Select Option</option>
                <option>Yes</option>
                <option>No</option>
            </select>

            <button type="submit">Analyze</button>
        </form>
    </div>
    {% endif %}

    <!-- ================= RESULT (SHOWN AFTER PREDICTION) ================= -->
    {% if prediction_text %}
    <div class="result-card" style="border-left:6px solid {{ result_color }};">
        <h2>{{ prediction_text }}</h2>

        <p><strong>Accuracy:</strong> {{ confidence }}%</p>
        <p><strong>Status:</strong> {{ recommendation.priority }}</p>

        <p>{{ recommendation.description }}</p>

        <ul>
            {% for action in recommendation.actions %}
            <li>{{ action }}</li>
            {% endfor %}
        </ul>

        <a href="/" class="btn">New Assessment</a>
    </div>

    <!-- ================= BLOOD PRESSURE GUIDELINES ================= -->
    <div class="bp-guidelines">
        <h3>ðŸ’™ Blood Pressure Guidelines</h3>

        <div class="bp-row"><span>Normal</span><span>&lt;120 / 80 mmHg</span></div>
        <div class="bp-row"><span>Elevated</span><span>120â€“129 / &lt;80 mmHg</span></div>
        <div class="bp-row"><span>Stage 1</span><span>130â€“139 / 80â€“89 mmHg</span></div>
        <div class="bp-row"><span>Stage 2</span><span>â‰¥140 / â‰¥90 mmHg</span></div>
        <div class="bp-row crisis"><span>Crisis</span><span>&gt;180 / &gt;120 mmHg</span></div>
    </div>
    {% endif %}

</div>

</body>
</html>
